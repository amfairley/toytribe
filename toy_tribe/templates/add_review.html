{% extends "base.html" %}

<!-- Title for browser tab -->
{% block title %}
> Add Review
{% endblock %}

<!-- Add Review Page Content -->
{% block content %}
    {% if 'user_id' in session %}
    <h2 class="playfair-display" id="add-review-title">Review {{ toy.name }}</h2>

    <form id="add-review-form" method="POST">

        {{ form.hidden_tag() }}

        <div class="add-review-input">
            <label for="review_content" class="roboto-regular">
                {{ form.review_content.label }}
                <span class="form-required">*</span>
            </label>
            {{ form.review_content }}
        </div>

        <div class="add-review-input">
            <label for="rating" class="roboto-regular">
                {{ form.rating.label }}
                <span class="form-required">*</span>                
            </label>
            {{ form.rating }}
        </div>
        <!-- Flash Messages -->
        <div>
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        <div class="submit-failure open-sans">
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endif %}
            {% endwith %}
        </div>
        <div class="add-review-input">
            <label for="also_liked" class="roboto-regular">{{ form.also_liked.label }}</label>
            {{ form.also_liked(class="form-control") }}
        </div>

        <input id="add-review-button" class="roboto-regular" type="submit" value="Submit Review">
</form>
{% else %}
    <!-- Redirect to homepage -->
    <script>
        window.location.href = "{{ url_for('home') }}";
    </script>
{% endif %}

{% endblock %}